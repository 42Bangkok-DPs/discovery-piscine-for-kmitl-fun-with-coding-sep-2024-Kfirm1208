<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calc</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <form action="javascript:;" onsubmit="calculate(this)">
        <input type="text" id="a" name="a">
        <select name="op" id="op">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="%">%</option>
        </select>
        <input type="text" id="b" name="b">
        <button type="submit">Try me!</button>
    </form>
    <script>
        //function calculate() using arrow functions
        const calculate = (form) => {
            const aR = $(form.a).val();
            const bR = $(form.b).val();
            //regular expression detection the invalid characters
            const invalidInputPattern = /[^0-9.]/;
            let message = "Error :(";

            if (invalidInputPattern.test(aR) || invalidInputPattern.test(bR)) {
                return alert(message);
    }
            const a = parseFloat(aR);
            const b = parseFloat(bR);
            const op = $(form.op).val();

            // Validate inputs
            if ((isNaN(a) || isNaN(b)) || ( a < 0 || b < 0)){
                return alert(message);
            }


            // Prevent division/modulo by zero
            if ((op === "%" || op === "/") && b === 0) {
                message = "Itâ€™s over 9000!";
            } else {
                // Perform the calculation
                const operations = {
                    "+": a + b,
                    "-": a - b,
                    "*": a * b,
                    "/": a / b,
                    "%": a % b
                };

                message = operations[op] !== undefined ? operations[op] : "Error :(";
            }

            console.log(message);
            alert(message);
        };

        // Periodic reminder using arrow function
        setInterval(() => alert("Please, use me..."), 30000);

    </script>
</body>

</html>